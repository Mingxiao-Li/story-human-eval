<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Human Evaluation - Multi-Model Image Comparison</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
    .prompt-section { margin-bottom: 40px; border-bottom: 1px solid #ccc; padding-bottom: 20px; }
    .prompt-text { font-weight: bold; margin-bottom: 10px; }
    .model-block { margin-bottom: 10px; }
    .model-label { font-weight: bold; margin: 5px 0; }
    .image-row { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 10px; }
    img { max-height: 150px; border: 2px solid #ccc; }
    .radio-group { margin: 5px 0; }
    h1, h2 { color: #333; }
    button { padding: 10px 20px; font-size: 16px; }
    pre { background: #eee; padding: 10px; white-space: pre-wrap; word-break: break-word; }
  </style>
</head>
<body>

<h1>Human Evaluation: Model Comparison</h1>
<p>
  Please help us evaluate the images generated by 4 different models across 30 prompts. For each prompt, each model generates 3 images.
</p>
<h2>Evaluation Criteria</h2>
<ul>
  <li><strong>Identity Consistency</strong>: Do all images from the model preserve the same identity?</li>
  <li><strong>Prompt Alignment</strong>: How well do the images reflect the given text prompt?</li>
  <li><strong>Image Diversity</strong>: Are the images visually and semantically diverse while still relevant?</li>
</ul>
<p>
  For each prompt, choose the best-performing model under each of the 3 criteria.
</p>

<div id="evaluation-area"></div>

<button onclick="submitResults()">Submit</button>

<h2>Results</h2>
<pre id="result-box"></pre>

<script>
  const numPrompts = 30;
  const numModels = 4;
  const imagesPerModel = 3;

  const prompts = Array.from({ length: numPrompts }, (_, i) => `Prompt ${i + 1}: Describe the scene or object here.`);

  const results = {};

  function render() {
    const container = document.getElementById("evaluation-area");

    prompts.forEach((promptText, pIdx) => {
      const section = document.createElement("div");
      section.className = "prompt-section";

      const pTitle = document.createElement("div");
      pTitle.className = "prompt-text";
      pTitle.textContent = promptText;
      section.appendChild(pTitle);

      // Models with their images
      for (let m = 0; m < numModels; m++) {
        const modelBlock = document.createElement("div");
        modelBlock.className = "model-block";

        const modelLabel = document.createElement("div");
        modelLabel.className = "model-label";
        modelLabel.textContent = `Model ${m}`;
        modelBlock.appendChild(modelLabel);

        const imageRow = document.createElement("div");
        imageRow.className = "image-row";

        for (let i = 0; i < imagesPerModel; i++) {
          const img = document.createElement("img");
          img.src = `images/prompt_${pIdx}_model_${m}_${i}.jpg`;
          img.alt = `Prompt ${pIdx} - Model ${m} - Image ${i}`;
          imageRow.appendChild(img);
        }

        modelBlock.appendChild(imageRow);
        section.appendChild(modelBlock);
      }

      // Radio buttons for each criterion
      ["identity", "alignment", "diversity"].forEach((criterion) => {
        const label = document.createElement("div");
        label.textContent = `Best model for ${criterion}:`;
        label.style.marginTop = "5px";

        const radios = document.createElement("div");
        radios.className = "radio-group";

        for (let m = 0; m < numModels; m++) {
          const input = document.createElement("input");
          input.type = "radio";
          input.name = `prompt_${pIdx}_${criterion}`;
          input.value = m;
          input.addEventListener("change", () => {
            if (!results[`prompt_${pIdx}`]) results[`prompt_${pIdx}`] = {};
            results[`prompt_${pIdx}`][criterion] = m;
          });

          radios.appendChild(input);
          radios.appendChild(document.createTextNode(` Model ${m} `));
        }

        section.appendChild(label);
        section.appendChild(radios);
      });

      container.appendChild(section);
    });
  }

  function submitResults() {
    const box = document.getElementById("result-box");
    box.textContent = JSON.stringify(results, null, 2);
    alert("Thank you! Your results are shown below.");
  }

  render();
</script>

</body>
</html>
